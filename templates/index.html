{% extends "base.html" %}
{% set title = "å·¥å…·ç®¡ç†ä¸­å¿ƒ" %}
{% set active = "home" %}

{% block content %}
	  <div class="cols">
	    <div class="col-8">
	      <div class="card">
	        <div class="hd">
          <div class="row" style="justify-content: space-between;">
            <h3>ç²¾é€‰å·¥å…·</h3>
            <a class="link muted" href="{{ url_for('main.index') }}">æŸ¥çœ‹å…¨éƒ¨</a>
          </div>
        </div>
        <div class="bd">
          <div class="featured_wrap">
            <div class="featured_preview" aria-hidden="true">
              <div class="featured_mock" style="--featured-image: url('{{ featured_image_url }}');"></div>
            </div>
            <div class="featured_info">
              <div class="row" style="justify-content: space-between; gap: 10px;">
                <div class="row" style="gap: 10px;">
                  <div class="tool_icon" style="--icon-hue: {{ 'featured:pdf' | icon_hue }};">P</div>
                  <div>
                    <div class="featured_title">PDF æ°´å°</div>
                    <div class="row" style="gap: 8px; margin-top: 6px;">
                      <span class="badge">æ¨è</span>
                      <span class="badge badge_ok">ç¨³å®š</span>
                    </div>
                  </div>
                </div>
                <div class="bookmark" aria-hidden="true"></div>
              </div>

              <p class="muted" style="margin: 12px 0 0; max-width: 70ch;">
                PDF å»æ°´å°ä¸åŠ æ°´å°ï¼šæ”¯æŒåœ¨çº¿é¢„è§ˆç¡®è®¤æ•ˆæœåå†ä¸‹è½½ï¼Œå¯å¤„ç†å¸¸è§æ³¨é‡Šæ°´å°ï¼ˆ/Watermarkã€/Stampï¼‰ä¸å†…å®¹å—æ ‡è®°ã€‚
              </p>

              <div class="row" style="margin-top: 12px; gap: 8px;">
                <span class="chip">é¢„è§ˆç¡®è®¤</span>
                <span class="chip">æ¸…ç†æ³¨é‡Šæ°´å°</span>
                <span class="chip">æ–‡å­—/å›¾ç‰‡æ°´å°</span>
              </div>

              <div class="row" style="margin-top: 14px;">
                <a class="btn primary" href="{{ url_for('pdf.studio_page', tab='remove') }}">å»æ°´å° â†’</a>
                <a class="btn secondary" href="{{ url_for('pdf.studio_page', tab='add') }}">åŠ æ°´å°</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-4">
      <div class="card">
        <div class="hd">
          <div class="row" style="justify-content: space-between;">
            <h3>æœ€è¿‘æ–°å¢</h3>
            <a class="link muted" href="{{ url_for('main.index') }}">æŸ¥çœ‹å…¨éƒ¨</a>
          </div>
        </div>
        <div class="bd">
          <div class="tool_list">
            {% set ns = namespace(shown=0) %}
            {% for t in (external_tools_recent or []) %}
              <a class="tool_item" href="{{ t.url }}" {% if t.open_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}>
                {% set icon_class = 'tool_item_icon_blue' %}
                {% if t.category == 'dev' %}{% set icon_class = 'tool_item_icon_green' %}{% endif %}
                {% if t.category == 'design' %}{% set icon_class = 'tool_item_icon_blue' %}{% endif %}
                {% if t.category == 'other' %}{% set icon_class = 'tool_item_icon_purple' %}{% endif %}
                <div class="tool_item_icon {{ icon_class }}" style="--icon-hue: {{ t.id | icon_hue }};">{{ t.icon }}</div>
                <div class="tool_item_body">
                  <div class="tool_item_title">{{ t.name }}</div>
                  <div class="tool_item_desc">{{ t.description or t.url }}</div>
                </div>
                <button
                  class="tool_edit"
                  type="button"
                  title="ç¼–è¾‘å¤–é“¾å·¥å…·"
                  data-tool-edit="{{ t.id }}"
                  data-tool-name="{{ t.name }}"
                  data-tool-url="{{ t.url }}"
                  data-tool-description="{{ t.description }}"
                  data-tool-category="{{ t.category }}"
                  data-tool-icon="{{ t.icon }}"
                  data-tool-open-new-tab="{{ 'true' if t.open_new_tab else 'false' }}"
                >âœ</button>
                <button class="tool_del" type="button" title="åˆ é™¤å¤–é“¾å·¥å…·" data-tool-delete="{{ t.id }}" data-tool-name="{{ t.name }}">Ã—</button>
                <div class="tool_item_arrow">â†—</div>
              </a>
              {% set ns.shown = ns.shown + 1 %}
            {% endfor %}

            {% if ns.shown < 3 %}
              <a class="tool_item" href="{{ url_for('image.annotate_page') }}">
                <div class="tool_item_icon tool_item_icon_blue" style="--icon-hue: {{ 'tool:annotate' | icon_hue }};">â§‰</div>
                <div class="tool_item_body">
                  <div class="tool_item_title">UI æ ‡æ³¨</div>
                  <div class="tool_item_desc">æ— é™ç”»å¸ƒ + SVG çŸ¢é‡æ ‡æ³¨å±‚</div>
                </div>
                <div class="tool_item_arrow">â†’</div>
              </a>
              {% set ns.shown = ns.shown + 1 %}
            {% endif %}
            {% if ns.shown < 3 %}
              <a class="tool_item" href="{{ url_for('webapp.pack_page') }}">
                <div class="tool_item_icon tool_item_icon_purple" style="--icon-hue: {{ 'tool:webapp_pack' | icon_hue }};">âŒ</div>
                <div class="tool_item_body">
                  <div class="tool_item_title">ç½‘ç«™æ‰“åŒ… App</div>
                  <div class="tool_item_desc">è¾“å…¥ç½‘å€ï¼Œä¸€é”®ç”Ÿæˆ PWA/Android/iOS å£³å·¥ç¨‹</div>
                </div>
                <div class="tool_item_arrow">â†’</div>
              </a>
              {% set ns.shown = ns.shown + 1 %}
            {% endif %}
            {% if ns.shown < 3 %}
              <a class="tool_item" href="{{ url_for('video.studio_page') }}">
                <div class="tool_item_icon tool_item_icon_green" style="--icon-hue: {{ 'tool:video' | icon_hue }};">â–¶</div>
                <div class="tool_item_body">
                  <div class="tool_item_title">è§†é¢‘è§£æ</div>
                  <div class="tool_item_desc">è§£æè§†é¢‘ç›´é“¾/æ’­æ”¾åˆ—è¡¨ï¼Œæ”¯æŒé¢„è§ˆä¸ä¸‹è½½</div>
                </div>
                <div class="tool_item_arrow">â†’</div>
              </a>
              {% set ns.shown = ns.shown + 1 %}
            {% endif %}
          </div>
        </div>
      </div>
    </div>

    <div class="col-6">
      <div class="stack">
        <div class="card">
          <div class="hd">
            <div class="row" style="justify-content: space-between;">
              <h3>å¼€å‘å·¥å…·</h3>
              <a class="link muted" href="{{ url_for('main.index') }}">æŸ¥çœ‹å…¨éƒ¨</a>
            </div>
          </div>
          <div class="bd">
            <div class="tool_tiles tool_tiles_scroll tool_tiles_2x2">
            <a class="tool_tile" href="{{ url_for('video.studio_page') }}">
              <div class="tool_tile_icon tool_item_icon_green" style="--icon-hue: {{ 'tool:video' | icon_hue }};">â–¶</div>
              <div class="tool_tile_title">è§†é¢‘è§£æ</div>
              <div class="tool_tile_desc">è§£æ HLS/MP4 ç­‰èµ„æºï¼Œæ”¯æŒä»£ç†æ’­æ”¾ä¸ä¸‹è½½ã€‚</div>
            </a>
            <a class="tool_tile" href="{{ url_for('webapp.pack_page') }}">
              <div class="tool_tile_icon tool_item_icon_purple" style="--icon-hue: {{ 'tool:webapp_pack' | icon_hue }};">âŒ</div>
              <div class="tool_tile_title">ç½‘ç«™æ‰“åŒ… App</div>
              <div class="tool_tile_desc">ç”Ÿæˆ PWA å‹ç¼©åŒ…ä¸ Capacitor å£³å·¥ç¨‹æ¨¡æ¿ã€‚</div>
            </a>
            <a class="tool_tile" href="{{ url_for('image.compress_page') }}">
              <div class="tool_tile_icon tool_item_icon_blue" style="--icon-hue: {{ 'tool:image_compress' | icon_hue }};">ğŸ—œ</div>
              <div class="tool_tile_title">å›¾ç‰‡å‹ç¼©</div>
              <div class="tool_tile_desc">è£å‰ªæ¯”ä¾‹/è¾“å‡ºåƒç´ /ç›®æ ‡å¤§å°æ§åˆ¶ï¼Œé¢„è§ˆç¡®è®¤åä¸‹è½½ã€‚</div>
            </a>
            <a class="tool_tile" href="{{ url_for('image.slice_page') }}">
              <div class="tool_tile_icon tool_item_icon_blue" style="--icon-hue: {{ 'tool:image_slice' | icon_hue }};">â–¦</div>
              <div class="tool_tile_title">å›¾ç‰‡åˆ‡åˆ†/æ‹¼è£…</div>
              <div class="tool_tile_desc">ä¸€å¼ å›¾åˆ‡æˆå¤šå®«æ ¼ï¼Œæˆ–å°†å¤šå¼ å›¾æŒ‰æ ·å¼æ‹¼æˆä¸€å¼ ã€‚</div>
            </a>
            {% for t in (external_tools_dev or []) %}
              <div class="tool_tile">
                <a href="{{ t.url }}" class="tool_tile_overlay" {% if t.open_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}></a>
                <div class="tool_tile_actions tool_tile_actions_top">
                  <button
                    class="tool_edit"
                    type="button"
                    title="ç¼–è¾‘å¤–é“¾å·¥å…·"
                    data-tool-edit="{{ t.id }}"
                    data-tool-name="{{ t.name }}"
                    data-tool-url="{{ t.url }}"
                    data-tool-description="{{ t.description }}"
                    data-tool-category="{{ t.category }}"
                    data-tool-icon="{{ t.icon }}"
                    data-tool-open-new-tab="{{ 'true' if t.open_new_tab else 'false' }}"
                  >âœ</button>
                  <button class="tool_del" type="button" title="åˆ é™¤å¤–é“¾å·¥å…·" data-tool-delete="{{ t.id }}" data-tool-name="{{ t.name }}">Ã—</button>
                </div>
                <div class="tool_tile_icon tool_item_icon_green" style="--icon-hue: {{ t.id | icon_hue }};">{{ t.icon }}</div>
                <div class="tool_tile_title">{{ t.name }}</div>
                <div class="tool_tile_desc">{{ t.description or t.url }}</div>
              </div>
            {% endfor %}
            </div>
          </div>
        </div>

        <div class="card" style="margin-top: 14px;">
          <div class="hd">
            <div class="row" style="justify-content: space-between;">
              <h3>å…¶å®ƒ</h3>
              <span class="muted">å¤–é“¾å·¥å…·</span>
            </div>
          </div>
          <div class="bd">
            <div class="tool_tiles tool_tiles_scroll tool_tiles_2x2">
              {% if not (external_tools_other or []) %}
                <div class="muted">æš‚æ— å¤–é“¾å·¥å…·ï¼Œå¯ç‚¹å‡»å³ä¸Šè§’â€œ+ æ·»åŠ å·¥å…·â€ã€‚</div>
              {% endif %}
              {% for t in (external_tools_other or []) %}
                <div class="tool_tile">
                  <a href="{{ t.url }}" class="tool_tile_overlay" {% if t.open_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}></a>
                  <div class="tool_tile_actions tool_tile_actions_top">
                    <button
                      class="tool_edit"
                      type="button"
                      title="ç¼–è¾‘å¤–é“¾å·¥å…·"
                      data-tool-edit="{{ t.id }}"
                      data-tool-name="{{ t.name }}"
                      data-tool-url="{{ t.url }}"
                      data-tool-description="{{ t.description }}"
                      data-tool-category="{{ t.category }}"
                      data-tool-icon="{{ t.icon }}"
                      data-tool-open-new-tab="{{ 'true' if t.open_new_tab else 'false' }}"
                    >âœ</button>
                    <button class="tool_del" type="button" title="åˆ é™¤å¤–é“¾å·¥å…·" data-tool-delete="{{ t.id }}" data-tool-name="{{ t.name }}">Ã—</button>
                  </div>
                  <div class="tool_tile_icon tool_item_icon_purple" style="--icon-hue: {{ t.id | icon_hue }};">{{ t.icon }}</div>
                  <div class="tool_tile_title">{{ t.name }}</div>
                  <div class="tool_tile_desc">{{ t.description or t.url }}</div>
                </div>
              {% endfor %}
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-6">
      <div class="card">
        <div class="hd">
          <div class="row" style="justify-content: space-between;">
            <h3>è®¾è®¡å·¥å…·</h3>
            <a class="link muted" href="{{ url_for('main.index') }}">æŸ¥çœ‹å…¨éƒ¨</a>
          </div>
        </div>
          <div class="bd">
            <div class="tool_tiles tool_tiles_scroll tool_tiles_2x2">
            <a class="tool_tile" href="{{ url_for('image.annotate_page') }}">
              <div class="tool_tile_icon tool_item_icon_blue" style="--icon-hue: {{ 'tool:annotate' | icon_hue }};">â§‰</div>
              <div class="tool_tile_title">UI æ ‡æ³¨</div>
              <div class="tool_tile_desc">ç»„ä»¶æ¡†é€‰ + JSON è§„èŒƒï¼Œè¾…åŠ©å‰ç«¯ä¸€æ¯”ä¸€è¿˜åŸè®¾è®¡å›¾ã€‚</div>
            </a>
            <a class="tool_tile" href="{{ url_for('image.studio_page') }}">
              <div class="tool_tile_icon tool_item_icon_blue" style="--icon-hue: {{ 'tool:image_watermark' | icon_hue }};">â–¦</div>
              <div class="tool_tile_title">å›¾ç‰‡æ°´å°</div>
              <div class="tool_tile_desc">å›¾ç‰‡åŠ æ°´å°/å»æ°´å°ï¼Œæ”¯æŒé¢„è§ˆç¡®è®¤åå†ä¸‹è½½ã€‚</div>
            </a>
            {% for t in (external_tools_design or []) %}
              <div class="tool_tile">
                <a href="{{ t.url }}" class="tool_tile_overlay" {% if t.open_new_tab %}target="_blank" rel="noopener noreferrer"{% endif %}></a>
                <div class="tool_tile_actions tool_tile_actions_top">
                  <button
                    class="tool_edit"
                    type="button"
                    title="ç¼–è¾‘å¤–é“¾å·¥å…·"
                    data-tool-edit="{{ t.id }}"
                    data-tool-name="{{ t.name }}"
                    data-tool-url="{{ t.url }}"
                    data-tool-description="{{ t.description }}"
                    data-tool-category="{{ t.category }}"
                    data-tool-icon="{{ t.icon }}"
                    data-tool-open-new-tab="{{ 'true' if t.open_new_tab else 'false' }}"
                  >âœ</button>
                  <button class="tool_del" type="button" title="åˆ é™¤å¤–é“¾å·¥å…·" data-tool-delete="{{ t.id }}" data-tool-name="{{ t.name }}">Ã—</button>
                </div>
                <div class="tool_tile_icon tool_item_icon_blue" style="--icon-hue: {{ t.id | icon_hue }};">{{ t.icon }}</div>
                <div class="tool_tile_title">{{ t.name }}</div>
                <div class="tool_tile_desc">{{ t.description or t.url }}</div>
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
